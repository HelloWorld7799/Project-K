<template>
  <lightning-card title="Select Any Account To Get Related Contacts">
    <c-account-component
      onmyeventdemo={handleChangeAction}
    ></c-account-component>
  </lightning-card>
  <template if:true={openModal}>
    <section aria-modal="true" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning-icon
            class="slds-modal__close"
            icon-name="utility:close"
            size="small"
            onclick={closeModal}
          ></lightning-icon>
        </header>
        <div class="slds-modal__content">
          <div class="slds-p-around_small">
            <template if:true={records}>
              <div id="myModal" class="modal">
                <lightning-modal-body>
                  <lightning-layout
                    multiple-rows="true"
                    pull-to-boundary="small"
                  >
                    <template for:each={records} for:item="conItem">
                      <lightning-layout-item
                        key={conItem.Id}
                        size="4"
                        class="slds-var-p-around_x-small"
                      >
                        <lightning-card>
                          <div class="slds-box">
                            <div class="slds-media">
                              <div class="slds-media__body">
                                <lightning-input
                                  type="radio"
                                  name="radioButtonSelect"
                                  value={conItem.Id}
                                  onchange={radioButton}
                                ></lightning-input>
                                <p class="slds-var-m-bottom_xx-small">
                                  FirstName: {conItem.FirstName}
                                </p>
                                <p class="slds-var-m-bottom_xx-small">
                                  Id: {conItem.Id}
                                </p>
                                <p class="slds-var-m-bottom_xx-small">
                                  LastName: {conItem.LastName}
                                </p>
                                <p class="slds-var-m-bottom_xx-small">
                                  Phone: {conItem.Phone}
                                </p>
                              </div>
                            </div>
                          </div>
                        </lightning-card>
                      </lightning-layout-item>
                    </template>
                  </lightning-layout>
                </lightning-modal-body>
              </div>
            </template>
          </div>
        </div>
        <template if:true={removeButton}>
          <footer class="slds-modal__footer">
            <lightning-button
              variant="destructive"
              label="Show Contact"
              onclick={removeAccount}
              class="slds-p-around_x-small"
            ></lightning-button>
          </footer>
        </template>
      </div>
    </section>
  </template>
</template>
